<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Displays</title>
    <!-- Bootstrap CSS einbinden -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="text-center mb-4">Display-Liste</h1>

    <!-- Formular zur Filterung nach Set Code -->
    <form class="mb-4" method="get" action="/api/displays/list">
        <div class="row">
            <div class="col-md-8">
                <input type="text" name="setCode" class="form-control" placeholder="Set Code eingeben">
            </div>
            <div class="col-md-4">
                <button type="submit" class="btn btn-primary w-100">Filtern</button>
            </div>
        </div>
    </form>

    <!-- Button zum Ein-/Ausblenden der ID-Spalte -->
    <div class="mb-3">
        <button class="btn btn-secondary" onclick="toggleIdColumn()">ID-Spalte ein-/ausblenden</button>
    </div>

    <!-- Tabelle zur Anzeige der Displays -->
    <table class="table table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th class="id-column hidden">ID</th>
            <th>Set Code</th>
            <th>Typ</th>
            <th>Wert</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="display : ${displays}">
            <td class="id-column hidden" th:text="${display._id}"></td>
            <td th:text="${display.setCode}"></td>
            <td th:text="${display.type}"></td>
            <td th:text="${display.valueBought}"></td>
        </tr>
        </tbody>
    </table>
</div>
<!-- Bootstrap JS und eigenes Script einbinden -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function toggleIdColumn() {
        const idColumns = document.querySelectorAll('.id-column');
        idColumns.forEach(column => {
            column.classList.toggle('hidden');
        });
    }
</script>
</body>
</html>